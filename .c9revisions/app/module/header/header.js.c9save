{"ts":1381012639711,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"(\n    function(){\n        var moduleName      = 'header',\n            currentHeight   = 0,\n            currentTop      = 0,\n            origTop         = 0;\n        \n        function controlEvent(e){\n            switch(e.target.id){\n                case 'refresh':\n                    app.trigger('app.refresh')\n                    break;\n                case 'close':\n                    window.close();\n                    break;\n                case 'min':\n                    currentHeight=chrome.app.window.current().getBounds().height;\n                    currentTop=chrome.app.window.current().getBounds().top;\n                    animateShrink();\n                    break;\n                case 'restore':\n                    origTop=chrome.app.window.current().getBounds().top;\n                    window.resizeTo(\n                        450,\n                        310\n                    );\n                    break;\n                case 'max':\n                    if(window.isFullscreen()){\n                        window.restore();\n                        break;\n                    }\n                    window.fullscreen();\n                    break;\n            }\n        }\n        \n        function animateShrink(){\n            var thisWindow  = chrome.app.window.current(),\n                step        = 15,\n                interval    = 20;\n                \n            currentHeight-=step;\n            (currentTop<origTop)?currentTop+=step:currentTop=origTop;\n            \n            thisWindow.setBounds(\n                {\n                    height  : currentHeight,\n                    top     : currentTop\n                }\n            );\n            if(currentHeight<96){\n                setTimeout(\n                    function(){\n                        thisWindow.setBounds(\n                            {\n                                height  : 95,\n                                top     : origTop\n                            }\n                        );\n                    },100\n                );\n                return;\n            }\n                \n            setTimeout(\n                animateShrink,\n                10\n            );\n        }\n        \n        function render(el){\n            el.addEventListener(\n                'click',\n                controlEvent\n            );\n        }\n        \n        exports(moduleName,render);    \n    }\n)();"]],"start1":0,"start2":0,"length1":0,"length2":2398}]],"length":2398}
{"contributors":[],"silentsave":false,"ts":1381012747323,"patch":[[{"diffs":[[0,"der'"],[-1,",\n            currentHeight   = 0,\n            currentTop      = 0,\n            origTop         = 0"],[0,";\n  "]],"start1":52,"start2":52,"length1":107,"length2":8},{"diffs":[[0,"   \n"],[-1,"        function animateShrink(){\n            var thisWindow  = chrome.app.window.current(),\n                step        = 15,\n                interval    = 20;\n                \n            currentHeight-=step;\n            (currentTop<origTop)?currentTop+=step:currentTop=origTop;\n            \n            thisWindow.setBounds(\n                {\n                    height  : currentHeight,\n                    top     : currentTop\n                }\n            );\n            if(currentHeight<96){\n                setTimeout(\n                    function(){\n                        thisWindow.setBounds(\n                            {\n                                height  : 95,\n                                top     : origTop\n                            }\n                        );\n                    },100\n                );\n                return;\n            }\n                \n            setTimeout(\n                animateShrink,\n                10\n            );\n        }\n        \n"],[0,"    "]],"start1":1099,"start2":1099,"length1":1004,"length2":8}]],"length":1303,"saved":false}
{"ts":1381015368222,"patch":[[{"diffs":[[0,"    "],[-1,"origTop=chrome."],[0,"app."]],"start1":631,"start2":631,"length1":23,"length2":8},{"diffs":[[0,"t()."],[-1,"getBounds().top;\n                    window.resizeTo(\n                        450,\n                        310\n                    "],[1,"restore("],[0,");\n "]],"start1":652,"start2":652,"length1":139,"length2":16}]],"length":1165,"saved":false}
